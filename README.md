# Rock Paper Scissors Lizard Spock Game

> **Documentation**: This README.md was generated by Claude and edited by Alex (DUMMY TASK).

A modern web-based implementation of the classic Rock Paper Scissors game with a twist - adding Lizard and Spock to the mix! This full-stack application features a React frontend and Node.js backend with real-time game statistics.

## 🎮 What This Application Does

This is an interactive **Rock Paper Scissors Lizard Spock** game that allows players to:
- Play against a computer opponent
- View real-time game statistics (wins, losses, ties, win rate)
- Track choice frequency and game history
- Clear game history
- Enjoy a responsive, modern UI built with Chakra UI

The game follows the extended rules popularized by "The Big Bang Theory" TV show, where each choice defeats two others and is defeated by two others, creating a more balanced gameplay experience.

## 🏗️ Architecture Overview

### Frontend (React + Vite)
- **Framework**: React 19 with Vite for fast development
- **UI Library**: Chakra UI for modern, accessible components
- **State Management**: React hooks (useState, useEffect)
- **HTTP Client**: Axios for API communication
- **Animations**: Framer Motion for smooth transitions

### Backend (Node.js + Express)
- **Framework**: Express.js with ES6 modules
- **API**: RESTful endpoints for game operations
- **Storage**: In-memory storage for game history (last 10 games)
- **External Service**: Integration with random number service
- **Security**: CORS and error handling middleware

## 📁 Project Structure

```
rpsls-game/
├── package.json              # Root package with scripts
├── frontend/                 # React frontend application
│   ├── src/
│   │   ├── App.jsx          # Main application component
│   │   ├── components/      # Reusable UI components
│   │   │   ├── ChoiceButton/    # Game choice buttons
│   │   │   ├── Result/          # Game result display
│   │   │   ├── Stats/           # Statistics sidebar
│   │   │   ├── Board/           # Current score display
│   │   │   ├── GameRules/       # Game rules explanation
│   │   │   └── Loading/         # Loading indicators
│   │   ├── hooks/
│   │   │   └── useStats.js     # Custom hook for stats management
│   │   ├── services/
│   │   │   └── api.js          # API communication layer
│   │   └── constants/
│   │       └── constants.js    # Game constants and emoji mappings
│   ├── package.json
│   └── vite.config.js
└── backend/                  # Node.js backend API
    ├── src/
    │   ├── app.js              # Express server setup
    │   ├── controllers/
    │   │   └── controllers.js  # Route handlers
    │   ├── services/
    │   │   └── services.js     # Business logic
    │   └── utils/
    │       ├── constants.js    # Game rules and choices
    │       └── utils.js        # Helper functions
    └── package.json
```

## 🎯 Key Components & How They Work

### Game Logic (`backend/src/utils/`)
- **`constants.js`**: Defines the 5 choices and their winning relationships
- **`utils.js`**: Contains core game logic including winner determination
- **Game Rules**: Each choice defeats exactly 2 others (Rock crushes Scissors & Lizard, Paper covers Rock & disproves Spock, etc.)

### API Endpoints (`backend/src/controllers/`)
- `GET /api/choices` - Returns all available game choices
- `GET /api/choice` - Gets a random computer choice
- `POST /api/play` - Plays a game round
- `GET /api/history` - Retrieves game history (last 10 games)
- `DELETE /api/history` - Clears game history
- `GET /api/stats` - Returns comprehensive game statistics

### Frontend Components (`frontend/src/components/`)
- **`ChoiceButton`**: Interactive buttons for each game choice with emojis
- **`Result`**: Displays game outcome with visual feedback
- **`Stats`**: Statistics sidebar with win rates and choice frequency (accepts props from App.jsx)
- **`Board`**: Current score display showing wins/losses/ties (accepts props from App.jsx)
- **`GameRules`**: Explains the extended game rules

### Custom Hooks (`frontend/src/hooks/`)
- **`useStats`**: Manages game statistics state and API calls, loads stats on mount and provides loadStats function for manual refresh

### Data Flow
1. Player clicks a choice button → `ChoiceButton` component
2. API call sent to `/api/play` → `services/api.js`
3. Backend generates computer choice → `services/services.js`
4. Game result calculated → `utils/utils.js`
5. Result stored in memory → `services/services.js`
6. Response sent back to frontend → `controllers/controllers.js`
7. UI updated with result → `Result` component
8. `loadStats()` called immediately in `App.jsx` → `useStats` hook
9. Stats updated in both `Board` and `Stats` components via props

## 🚀 Getting Started

### Prerequisites
- Node.js (v16 or higher)
- npm or yarn

### Installation & Setup

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd rpsls-game
   ```

2. **Install all dependencies**
   ```bash
   npm run install:all
   ```

3. **Set up environment variables**
   Create a `.env` file in the `backend/` directory:
   ```env
   PORT=5000
   NODE_ENV=development
   RANDOM_SERVICE_URL=https://your-random-service.com/api
   PRODUCTION_URL=https://your-production-url.com
   ```

4. **Start the development servers**
   ```bash
   npm run dev
   ```
   This starts both frontend (port 3003) and backend (port 5000) simultaneously.

### Alternative Commands

- **Backend only**: `npm run dev:backend`
- **Frontend only**: `npm run dev:frontend`
- **Build for production**: `npm run build`
- **Preview production build**: `npm run preview`
- **Clean dependencies**: `npm run clean`
- **Fresh install**: `npm run refresh`

## 🔧 Technical Details

### External Dependencies
- **Random Number Service**: The backend integrates with an external service to generate random numbers for computer choices
- **Fallback Logic**: If the external service fails, the system uses JavaScript's Math.random() as a fallback

### State Management
- **Backend**: In-memory storage for game history (resets on server restart)
- **Frontend**: Centralized stats management using custom `useStats` hook in App.jsx, with props passed to child components
- **API**: RESTful communication with error handling and request logging

### Error Handling
- Comprehensive error handling on both frontend and backend
- User-friendly error messages
- Automatic retry mechanisms for failed requests
- Graceful degradation when external services are unavailable

## 📊 Game Statistics

The application tracks:
- Total games played
- Win/loss/tie counts
- Win rate percentage
- Choice frequency (which choices you pick most often)
- Last played timestamp
- Game history (last 10 games)

## 🔐 Security & Best Practices

- CORS configuration for cross-origin requests
- Error handling without exposing sensitive information
- Environment variables for configuration
- Request timeout handling
- Structured logging for debugging

---

This application demonstrates modern full-stack development practices with a fun, interactive game that's easy to understand and enjoy!
